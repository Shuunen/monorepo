/* unique-mark : 0.0.1 - 020b136 - 15/01/2026 17:48 */
import{M as h,s as H,o as V}from"./form-field-upload.const-zFp1Gjmm.js";function N(...e){console.log(...e)}function Z(e,t=200){e.style.opacity="0",e.style.transform="translateX(300px)",setTimeout(()=>{e.remove()},t)}function z(e,t=100){document.body.append(e),setTimeout(()=>{e.style.opacity="1",e.style.transform="translateX(0)"},t)}function K(e){return e==="success"?{backgrounds:["MediumSeaGreen","SeaGreen"],icon:"&check;",iconStyle:"line-height: 21px; text-indent: 1px;"}:e==="error"?{backgrounds:["FireBrick","Brown"],icon:"x",iconStyle:"line-height: 21.5px;"}:{backgrounds:["DodgerBlue","RoyalBlue"],icon:"i",iconStyle:"line-height: 21px;"}}function k(e,t="",n=0,o=14){const r=document.createElement("div");r.setAttribute("class","shu-toast");const i=document.querySelector(".shu-toast:nth-last-child(1 of .shu-toast)")?.getBoundingClientRect().top,f=i===void 0?0:globalThis.innerHeight-i,{backgrounds:s,icon:u,iconStyle:c}=K(e);r.style=`position: fixed; display: flex; align-items: center; gap: 9px; bottom: ${f+o}px; right: ${o}px; z-index: 99999; padding: 12px 20px 11px 14px; background: linear-gradient(45deg, ${s[0]}, 20%, ${s[1]}); color: white; border-radius: 5px; box-shadow: 0 3px 7px 0 rgba(0,0,0,.5); font-size: 18px; opacity: 0; transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out; transform: translateX(300px);`,r.innerHTML=`<span style="${c}border-radius: 50%; color: ${s[1]}; background-color: #ffffff90; width: 20px; height: 20px; text-align: center; font-weight: bolder; font-size: 12px;">${u}</span><span style="margin-top: -1px;">${t}</span>`,console[e==="error"?"error":"log"](`toast ${e} : ${t}`),z(r),n>0&&setTimeout(()=>{Z(r)},n)}function T(e,t=4e3){k("error",e,t)}function _(e,t=2e3){k("info",e,t)}function O(e,t=2e3){k("success",e,t)}function q(){return globalThis.navigator===void 0?!1:globalThis.navigator.userAgent.includes("Firefox")}function l(e,t,n){return q()?n:`\x1B[${e}m${n}\x1B[${t}m`}function G(e){return l(31,39,e)}function P(e){return l(32,39,e)}function U(e){return l(33,39,e)}function X(e){return l(34,39,e)}function J(e){return l(36,39,e)}function m(e){return l(90,39,e)}function W(e){return l(41,49,e)}function Y(e){return l(42,49,e)}const L=1e3,D=6e4,I=36e5,$=864e5,F=2592e6,E=31536e6,Le=2,Q=3,B=2,ee=100;function te(e,t=!0){const n=typeof e=="number"?e:Date.now()-e.getTime(),o=(r,i,f)=>{const s=Math.floor(r),u=s>1?"s":"",c=` ${i+u}`;return`${s}${t?c:f}`};return n<L?o(n,"millisecond","ms"):n<D?o(n/L,"second","s"):n<I?o(n/D,"minute","min"):n<$?o(n/I,"hour","h"):n<F?o(n/$,"day","d"):n<E?o(n/F,"month","mon"):o(n/E,"year","y")}function A(e,t,n="en-US"){return t.replaceAll(/y{4}|yy|M{4}|MM|dd|d|e{4}|e{3}|HH|mm|ss|\s/gu,o=>o==="yyyy"?e.toLocaleDateString(n,{year:"numeric"}):o==="yy"?e.toLocaleDateString(n,{year:"2-digit"}):o==="MMMM"?e.toLocaleDateString(n,{month:"long"}):o==="MM"?e.toLocaleDateString(n,{month:"2-digit"}):o==="dd"?e.toLocaleDateString(n,{day:"2-digit"}):o==="d"?e.toLocaleDateString(n,{day:"numeric"}):o==="eeee"?e.toLocaleDateString(n,{weekday:"long"}):o==="eee"?e.toLocaleDateString(n,{weekday:"short"}):o==="HH"?e.getHours().toString().padStart(o.length,"0"):o==="mm"?e.getMinutes().toString().padStart(o.length,"0"):o==="ss"?e.getSeconds().toString().padStart(o.length,"0"):o)}var ne={};function y(e){return typeof process>"u"?!1:(process.argv??[]).includes(`--${e}`)||(ne?.[e]??"").toString()==="true"}function oe(){return y("v")||y("verbose")||y("VERBOSE")||y("debug")||y("DEBUG")}function p(...e){const t=new RegExp(`[${String.fromCodePoint(27)}${String.fromCodePoint(155)}][#();?[]*(?:\\d{1,4}(?:;\\d{0,4})*)?[\\d<=>A-ORZcf-nqry]`,"gu");return e.map(n=>typeof n=="object"?JSON.stringify(n):String(n)).join(" ").replaceAll(t,"").replaceAll('"',"'")}class re{#e=0;#t=["1-debug","2-test","3-info","4-fix","5-warn","6-good","7-error"];#n;#o=7;clean=p;inMemoryLogs=[];options={isActive:!0,minimumLevel:oe()?"1-debug":"3-info",willLogDate:!1,willLogDelay:!0,willLogTime:!1,willOutputToConsole:!0,willOutputToMemory:!1};constructor(t){t&&(this.options={...this.options,...t}),this.#n=Math.max(...this.#t.map(n=>n.length-B))}__getDelay(){const t=Date.now();if(this.#e===0)return this.#e=t,m("init".padStart(this.#o));const n=t-this.#e;return this.#e=t,m(`+${te(n,!1)}`.padStart(this.#o))}__log(t,n){const o=[t];this.options.willLogTime&&o.unshift(A(new Date,"HH:mm:ss")),this.options.willLogDate&&o.unshift(A(new Date,"yyyy-MM-dd")),this.options.willLogDelay&&o.unshift(this.__getDelay()),this.options.willOutputToConsole&&N(o.join(" "),...n),this.options.willOutputToMemory&&this.addToMemoryLogs(...o,...n)}__logIf(t,n,o,r){this.__shouldLog(n)&&this.__log(r(t.padStart(this.#n)),o)}__shouldLog(t){return this.options.isActive&&this.#t.indexOf(t)>=this.#t.indexOf(this.options.minimumLevel)}addToMemoryLogs(...t){this.inMemoryLogs.push(p(...t))}debug(...t){this.__logIf("debug","1-debug",t,m)}disable(){this.options.isActive=!1}enable(){this.options.isActive=!0}error(...t){const n=t.map(o=>o instanceof Error?o.message:o);this.__logIf("error","7-error",n,G)}fix(...t){this.__logIf("fix","4-fix",t,J)}good(...t){this.__logIf("good","6-good",t,P)}info(...t){this.__logIf("info","3-info",t,X)}showError(...t){this.error(...t),h()&&T(p(...t))}showInfo(...t){this.info(...t),h()&&_(p(...t))}showSuccess(...t){this.success(...t),h()&&O(p(...t))}success(...t){this.good(...t)}result(t,n,o="info",r="error"){n.ok?this[o](t,"result was ok and returned :",n.value):this[r](t,"result was error and returned :",n.error)}showResult(t,n,o="info",r="error"){if(this.result(t,n,o,r),h()){const i=n.ok,u={error:T,info:_,success:O,warn:_}[i?o:r];u(`${t}: ${p(i?n.value:n.error)}`)}}test(t,...n){if(!this.__shouldLog("2-test"))return;const r=!!t?Y(" ✓ "):W(" ✗ "),i=" ".repeat(this.#n-Q);this.__log(i+r,n)}warn(...t){this.__logIf("warn","5-warn",t,U)}}class ie{value;ok=!0;constructor(t){this.value=t}}class se{error;ok=!1;constructor(t){this.error=t}}function w(e){return new ie(e)}function v(e){return new se(e)}function ue(e){if(e instanceof Promise)return e.then(w).catch(v);try{return w(e())}catch(t){return v(t)}}function fe(e){return e.ok?{error:void 0,value:e.value}:{error:e.error,value:void 0}}const x={error:v,ok:w,trySafe:ue,unwrap:fe};function j(e,t){const n=[];for(const o of e){let r=o;o!=null&&(Array.isArray(o)?r=j(o,t):typeof o=="object"&&(r=M(o,t))),n.push(r)}return n}function M(e,t){const n={},o=Object.keys(e).toSorted(t);for(const r of o){let i=e[r];i!=null&&(Array.isArray(i)?i=j(i,t):typeof i=="object"&&(i=M(i,t))),n[r]=i}return n}function ce(e,t){return t===void 0?t:t instanceof RegExp?{__regexFlags__:t.flags,__regexSource__:t.source}:typeof t=="function"?{__function__:t.toString()}:this[e]instanceof File?{__fileName__:this[e].name,__fileSize__:this[e].size,__fileType__:this[e].type}:this[e]instanceof Date?{__date__:this[e].toISOString()}:t}const le=()=>{const e=new WeakSet;function t(n,o){if(typeof o=="object"&&o!==null){if(e.has(o))return"__circular__";e.add(o)}return ce.call(this,n,o)}return t};function ae(e,t=!1,n=!1){return JSON.stringify(t?M(e):e,le(),n?B:void 0)}function pe(e=1e3){return new Promise(t=>{setTimeout(()=>{t(e)},e)})}function de(e,t,n){t.split&&(t=t.split("."));for(var o=0,r=t.length,i=e,f,s;o<r&&(s=""+t[o++],!(s==="__proto__"||s==="constructor"||s==="prototype"));)i=i[s]=o===r?n:typeof(f=i[s])==typeof t?f:t[o]*0!==0||~(""+t[o]).indexOf(".")?{}:[]}function ye(e,t,n){const o=typeof t=="string"?t.split("."):t;let r=e;for(const i of o)r=r&&typeof r=="object"?r[i]:void 0;return r===void 0?n:r}function ge(e,t=!1){return e===void 0?"undefined":e===null?"null":typeof e=="string"?e:typeof e=="object"?ae(e,!1,t):String(e)}function De(e){const t=a(e);if(t&&"options"in t&&t.options)return x.ok(t.options);let n=[];if(e.type==="enum")n=e.options;else if(e.type==="optional"&&e.def.innerType.type==="enum")n=e.def.innerType.options;else return x.error("failed to get enum options from schema");const o=n.map(r=>({label:r.charAt(0).toUpperCase()+r.slice(1),value:r}));return x.ok(o)}function he(e){return e.type==="enum"?!0:e.type==="optional"&&e.def.innerType.type==="enum"}function Ie(e){let t=!1,n=!1,o=!1;return e.type==="boolean"?t=!0:e.type==="literal"?(n=e.value===!0||e.value===!1,t=n,o=!!e.value):e.type==="optional"&&e.def.innerType.type==="boolean"&&(t=!0),{booleanLiteralValue:o,isBoolean:t,isBooleanLiteral:n}}function be(e){if(e.type==="boolean")return!0;if(e.type==="literal"){const t=e.value;if(t===!0||t===!1)return!0}else if(e.type==="optional"&&e.def.innerType.type==="boolean")return!0;return!1}function _e(e){return e.type==="number"?!0:e.type==="optional"&&e.def.innerType.type==="number"}function me(e){return e.type==="file"?!0:e.type==="optional"&&e.def.innerType.type==="file"}function xe(e){return e.type==="date"?!0:e.type==="optional"&&e.def.innerType.type==="date"}function we(e){return e.type==="string"||e.type==="optional"&&e.def.innerType.type==="string"}function ve(e){const t=e.indexOf("=");return t===-1?{fieldName:e}:{expectedValue:e.slice(t+1),fieldName:e.slice(0,t)}}function S(e,t){const n=a(e);if(!n)return!0;if("isVisible"in n&&n.isVisible)return n.isVisible(t);if(!("dependsOn"in n)||!n.dependsOn)return!0;const{fieldName:o,expectedValue:r}=ve(n.dependsOn),i=t[o];return r!==void 0?ge(i)===r:!!i}function $e(e,t){const n=e.shape,o={};for(const r of Object.keys(n)){const i=n[r];!S(i,t)||a(i)?.render==="section"||(o[r]=i)}return V(o)}function R(e){if(!e)return{keyIn:void 0,keyOut:void 0};const t="key"in e&&e.key?e.key:void 0,n="keyIn"in e&&e.keyIn?e.keyIn:t,o="keyOut"in e&&e.keyOut?e.keyOut:t;return{keyIn:n,keyOut:o}}function Fe(e,t){const n=e.shape,o={};for(const r of Object.keys(n)){const i=n[r],f=a(i),{keyIn:s}=R(f),u=s??r;if(u.includes(".")){const c=ye(t,u);c!==void 0&&(o[r]=c)}else u in t&&(o[r]=t[u])}return o}function ke(e,t){const n=e.shape,o={};for(const[r,i]of Object.entries(t)){const f=n[r],s=a(f);if(!S(f,t)||s&&"excluded"in s&&s.excluded||s?.render==="section")continue;const{keyOut:u}=R(s),c=u??r;c.includes(".")?de(o,c,i):o[c]=i}return o}function Ee(e,t){let n=t;for(const o of e)n=ke(o,n);return n}function Me(e,t,n){return!(t?.render==="section"||!S(e,n)||t?.excluded)}function Ae(e,t){const n=[];for(const o of e){const r=Se(o,t);n.push(...r)}return n}function Se(e,t){const o=Te(e)?.state;if(o==="readonly"||o==="upcoming")return[];const r=[],i=e.shape,f=Object.keys(i);let s,u={};function c(){Object.keys(u).length>0&&r.push({data:u,title:s})}for(const g of f){const b=i[g];if(!b)continue;const d=a(b);if(d?.render==="section"){c(),s="title"in d?d.title:void 0,u={};continue}const C=t[g];Me(b,d,t)&&(u[g]={label:d?.label??g,value:C})}return c(),r}async function Be(e,t){const n=new re;await pe(ee);const o={children:t,detailsList:[],status:e};return o.detailsList=["All data is valid.","No errors found."],n.showSuccess("Form submitted successfully!"),{submission:o}}function a(e){if(!(!e||typeof e.meta!="function"))return e.meta()}function je(e,t){const n=a(t);if(!n)throw new Error(`Field "${e}" is missing metadata`);if(n.render==="section")throw new Error(`Cannot render field "${e}" with section metadata`);return n}function Re(e,t){return e.meta(t)}function Ce(e){const t={...e,render:"section"};return H().optional().meta(t)}function Te(e){if(typeof e.meta=="function")return e.meta()}function He(e,t){return t?e.meta(t):e}function Ve(e){const{render:t}=a(e)||{};if(t)return t;if(me(e))return"upload";if(xe(e))return"date";if(he(e))return"select";if(_e(e))return"number";if(be(e))return"boolean";if(we(e))return"text"}export{Ce as a,_e as b,Ie as c,De as d,a as e,Re as f,je as g,Ve as h,we as i,ge as j,S as k,Ae as l,Be as m,Le as n,Fe as o,Te as p,$e as q,Ee as r,He as s};
